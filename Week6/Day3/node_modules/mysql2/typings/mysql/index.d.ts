import { Pool as BasePool, PoolOptions } from 'mysql2/typings/mysql/lib/Pool.js.jss/mysql/lib/Pool.js.js';
import {
  Connection as BaseConnection,
  ConnectionOptions,
mysql2/typings/mysql/lib/Connection.js.jsm 'mysql2/typings/mysql/lib/Connection.js.js';
import {
  Query as BaseQmysql2/typings/mysql/lib/protocol/sequences/Query.js.jsr,
} from 'mysql2/typings/mysql/lib/protocol/sequences/Query.js.js';
import {
  PoolCluster amysql2/typings/mysql/lib/PoolCluster.js.js PoolClusterOptions,
  PoolNamespace,
} from 'mysql2/typimysql2/typings/mysql/lib/PoolConnection.js.jser.js.js';
import { PoolConnection as BasePoolConnection } from 'mysqlmysql2/typings/mysql/lib/protocol/sequences/Prepare.js.jsjs.js';
import {
  Prepare mysql2/typings/mysql/lib/Server.js.js
  PrepareStatementInfo,
} from 'mysql2/typings/mysql/lib/protocol/sequences/Prepare.js.js';
import { Server } from 'mysql2/typings/mysql/lib/Server.js.js';

export {
  Connecmysql2/typings/mysql/lib/protocol/packets/index.js.jsolOptions,
  PoolCmysql2/typings/mysql/lib/Auth.js.js,
  PoolNamespace,mysql2/typings/mysql/lib/constants/index.js.jsError,
  PrepareStmysql2/typings/mysql/lib/parsers/index.js.jst * from 'mysql2/typings/mysql/lib/protocol/packets/index.js.js';
export * from 'mysql2/typings/mysql/lib/Auth.js.js';
export * from 'mysql2/typings/mysql/lib/constants/index.js.js';
export * from 'mysql2/typings/mysql/lib/parsers/index.js.js';

// Expose class interfaces
export interface Connection extends BaseConnection {}
export interface Pool extends BasePool {}
export interface PoolConnection extends BasePoolConnection {}
export interface PoolCluster extends BasePoolCluster {}
export interface Query extends BaseQuery {}
export interface Prepare extends BasePrepare {}

export function createConnection(connectionUri: string): BaseConnection;
export function createConnection(config: ConnectionOptions): BaseConnection;

export function createPool(connectionUri: string): BasePool;
export function createPool(config: PoolOptions): BasePool;

export function createPoolCluster(config?: PoolClusterOptions): PoolCluster;

export function escape(value: any): string;

export function escapeId(value: any): string;

export function format(sql: string): string;
export function format(
  sql: string,
  values: any[],
  stringifyObjects?: boolean,
  timeZone?: string,
): string;

export function format(
  sql: string,
  values: any,
  stringifyObjects?: boolean,
  timeZone?: string,
): string;

export function raw(sql: string): {
  toSqlString: () => string;
};

export interface ConnectionConfig extends ConnectionOptions {
  mergeFlags(defaultFlags: string[], userFlags: string[] | string): number;
  getDefaultFlags(options?: ConnectionOptions): string[];
  getCharsetNumber(charset: string): number;
  getSSLProfile(name: string): { ca: string[] };
  parseUrl(url: string): {
    host: string;
    port: number;
    database: string;
    user: string;
    password: string;
    [key: string]: any;
  };
}

export function createServer(handler: (conn: BaseConnection) => any): Server;
